{"version":3,"sources":["treble.png","train.js","results.js","settings.js","ToneGenerator.js","piano.js","staff.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","TrainData","note_stack","guess_stack","result_stack","start","this","addGuess","bind","addNote","calcScore","note","length","unshift","note_arr","i","score","Math","round","ResultItem","props","className","index","guess","result","Results","notes","slice","guesses","results","map","guess_note","key","NumNotes","type","min","max","step","value","default","onChange","e","setSettings","target","MaxLeap","defaultValue","Number","Mode","NumOctaves","id","name","checked","for","UI","Settings","style","padding","to","numNotes","maxLeap","mode","ui","range","rand","num","floor","random","allowed_notes","array","prev_val","max_leap","x1","x2","log","console","rand_array","ToneGen","duration","num_notes","gap","synth","scale","tonic_triad","tonic_end","prev_note","last","findIndex","Tone","Synth","toMaster","random_note","play_note","play_rand_note","triggerAttackRelease","time","local_note_arr","random_note_tonic","WhiteNote","onClick","onNoteClick","BlackNote","PianoPhone","Piano","note_map","sfn","staff","align","major","minor","blues","pentatonic","chromatic","Note","content","top","bottom","left","onMouseOver","onHover","Notes","setNote","Lines","canvas","useRef","useEffect","ctx","current","getContext","fillStyle","font","height","fillRect","width","fill","x","y","j","beginPath","ellipse","PI","j_adj","fillText","ref","src","treble","alt","position","z_index","Staff","useState","ceil","trainData","toneGen","PlayView","onStart","TrainView","setNotes","setGuess","setResult","play_rand_seq","addNoteArr","res","replay","play_notes","ResultsView","AboutView","App","state","swapRange","setState","setting","path","swapUI","React","Component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.0120493e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/treble.211c77af.png\";","import './App.css';\r\n\r\nclass TrainData {\r\n\r\n  note_stack = [];\r\n  guess_stack = [];\r\n  result_stack = [];\r\n  start = false;\r\n\r\n  constructor() {\r\n    this.addGuess  = this.addGuess.bind(this);\r\n    this.addNote   = this.addNote.bind(this);\r\n    this.calcScore = this.calcScore.bind(this);\r\n  }\r\n\r\n  addNote(note) {\r\n    while (this.guess_stack.length !== this.note_stack.length) {\r\n      this.guess_stack.unshift('-');\r\n    }\r\n    this.note_stack.unshift(note);\r\n  }\r\n\r\n  addNoteArr(note_arr) {\r\n    while (this.guess_stack.length !== this.note_stack.length) {\r\n      this.guess_stack.unshift('-');\r\n    }\r\n    for (var i in note_arr) {\r\n      // console.log(\"note: \" + note_arr[i]);\r\n      this.note_stack.unshift(note_arr[i]);\r\n    }\r\n  }\r\n\r\n  addGuess(note) {\r\n    if (this.guess_stack.length !== this.note_stack.length) {\r\n      // console.log(\"guess:\" + note + \" : \" + this.note_stack.length - this.guess_stack.length)\r\n      // console.log(this.note_stack)\r\n      this.guess_stack.unshift(note)\r\n      this.result_stack.unshift(\r\n        // note the weird index- this is because we're working with a stack, and we may have\r\n        // added PAST the note we're comparing to, so we need to look at an index in the note stack\r\n        note === this.note_stack[this.note_stack.length - this.guess_stack.length]\r\n      );\r\n    }\r\n    else {\r\n      return -1;\r\n    }\r\n    return (this.result_stack[0]);\r\n  }\r\n  \r\n  calcScore() {\r\n    var score = 0;\r\n    for (let i = 0; i < this.note_stack.length; ++i) {\r\n      if (i < this.guess_stack.length)\r\n        if (this.note_stack[i] === this.guess_stack[i])\r\n          ++score;\r\n    }\r\n    if (score === 0)\r\n      return [0,0];\r\n    return [score, Math.round(100 * (score / this.note_stack.length))];\r\n  }\r\n}\r\n\r\nexport default TrainData;","import React from 'react';\r\nimport './App.css';\r\n\r\nfunction getResult(result) {\r\n    if (result)\r\n        return '\\u2713'; // unicode checkmark\r\n    else\r\n        return 'X';\r\n}\r\n\r\nfunction ResultItem(props) {\r\n  return(\r\n    <tr>\r\n      <th className='Results-table-cell'>{props.index}.</th>\r\n      <th className='Results-table-cell'>{props.guess}</th>\r\n      <th className='Results-table-cell'>{props.note}</th>\r\n      <th className='Results-table-cell'>{getResult(props.result)}</th>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction Results(props) {\r\n  // if the lengths aren't the same, we need to offset notes, otherwise we'll print the wrong stuff\r\n  // this has no effec if guesses.length === notes.length\r\n  var notes = props.notes.slice(props.notes.length - props.guesses.length, props.notes.length);\r\n\r\n  return (\r\n    <div className=\"App App-header\">\r\n      <h2>Score: {props.score[1]}% ({props.score[0]} / {props.results.length})</h2>\r\n      <table className='Results-table'>\r\n        <thead>\r\n          <tr>\r\n            <th className='Results-table-cell'/>\r\n            <th className='Results-table-cell'>Guess</th>\r\n            <th className='Results-table-cell'>Note</th>\r\n            <th className='Results-table-cell'>Result</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.guesses\r\n            .map(\r\n              (guess, index) => (\r\n                [guess, notes[index], props.results[index]]\r\n              )\r\n            ).map(\r\n              (guess_note, index) => ( \r\n                <ResultItem \r\n                    key={index} \r\n                    index={props.guesses.length - index}\r\n                    guess={guess_note[0]} \r\n                    note={guess_note[1]} \r\n                    result={guess_note[2]}\r\n                />\r\n              )\r\n            )\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './App.css';\r\n\r\nfunction NumNotes(props) {\r\n  return (\r\n    <input \r\n        className=\"Input-Spinner\" \r\n        type=\"number\"\r\n        min=\"1\"\r\n        max=\"20\"\r\n        step=\"1\"\r\n        value={props.default}\r\n        onChange={(e) => props.setSettings(\"num_notes\", e.target.value)}  \r\n    />\r\n  );\r\n}\r\n\r\nfunction MaxLeap(props) {\r\n  return (\r\n  <select \r\n      defaultValue={props.default}\r\n      onChange={(e) => props.setSettings(\"max_leap\", Number(e.target.value))}\r\n  >\r\n    {/*<option value={1}>Minor Second</option>*/}\r\n    <option value={2}>{/*Major */}Second</option>\r\n    {/*<option value={3}>Minor Third</option>*/}\r\n    <option value={4}>{/*Major */}Third</option>\r\n    <option value={5}>{/*Perfect */}Fourth</option>\r\n    {/*<option value={6}>Tritone</option>*/}\r\n    <option value={7}>{/*Perfect */}Fifth</option>\r\n    {/*<option value={8}>Minor Sixth</option>*/}\r\n    <option value={9}>{/*Major */}Sixth</option>\r\n    {/*<option value={10}>Minor Seventh</option>*/}\r\n    <option value={11}>{/*Major */}Seventh</option>\r\n    <option value={12}>Octave</option>\r\n  </select>\r\n  );\r\n}\r\n\r\nfunction Mode(props) {\r\n  return (\r\n  <select \r\n      defaultValue={props.default} \r\n      onChange={(e) => props.setSettings(\"mode\", e.target.value)}\r\n  >\r\n    <option value=\"major\">Major</option>\r\n    <option value=\"minor\">Minor</option>\r\n    <option value=\"blues\">Blues</option>\r\n    <option value=\"pentatonic\">Pentatonic</option>\r\n    <option value=\"chromatic\">Chromatic</option>\r\n  </select>\r\n  );\r\n}\r\n\r\nfunction NumOctaves(props) {\r\n  return (\r\n    <p>\r\n    <input type = \"radio\" id = \"one\" name = \"octaves\" value = {1} \r\n        checked={props.default === 1} \r\n        onChange={(e) => props.setSettings(\"range\", 1)}\r\n    />\r\n    <label for=\"one\">One Octave</label><br></br>\r\n    <input type = \"radio\" id = \"two\" name = \"octaves\" value = {2} \r\n        checked={props.default === 2} \r\n        onChange={(e) => props.setSettings(\"range\", 2)}\r\n    />\r\n    <label for=\"two\">Two Octaves</label>\r\n    </p>\r\n  )\r\n}\r\n\r\nfunction UI(props) {\r\n  return (\r\n    <select \r\n      defaultValue={props.default}\r\n      onChange={(e) => props.setSettings(\"ui\", e.target.value)}\r\n    >\r\n      <option value=\"staff\">Staff</option>\r\n      <option value=\"piano\">Piano</option>\r\n    </select>\r\n  )\r\n}\r\n\r\nfunction Settings(props) {\r\n  return (\r\n  <div className=\"App-header\">\r\n  <header style={{padding:0}}>\r\n    <h2>Settings</h2>\r\n    <p>\r\n      <NavLink to='/aural-skills'>\r\n        <button className=\"App-buttonXL colorGreen\">Home</button>\r\n      </NavLink>\r\n      <NavLink to='/aural-skills/train'>\r\n        <button className=\"App-buttonXL colorCoral\">Start</button>\r\n      </NavLink>\r\n    </p>\r\n    \r\n  </header>\r\n  <table className=\"Setting-table\">\r\n  <tbody>\r\n    <tr>\r\n      <th className='Settings-table-cell'>Number of Notes:</th>\r\n      <th className='Settings-table-cell'> \r\n        <NumNotes setSettings={props.setSettings} default={props.numNotes}/> \r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th className='Settings-table-cell'>Maximum Leap:</th>\r\n      <th> \r\n        <MaxLeap setSettings={props.setSettings} default={props.maxLeap}/> \r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th className='Settings-table-cell'>Mode:</th>\r\n      <th className='Settings-table-cell'> \r\n        <Mode setSettings={props.setSettings} default={props.mode}/> \r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th className='Settings-table-cell'>UI:</th>\r\n      <th className='Settings-table-cell'> \r\n        <UI setSettings={props.setSettings} default={props.ui}/> \r\n      </th>\r\n    </tr>\r\n    <tr>\r\n      <th className='Settings-table-cell'>Range:</th>\r\n      <th className='Settings-table-cell'> \r\n        <NumOctaves setSettings={props.setSettings} default={props.range}/> \r\n      </th>\r\n    </tr>\r\n  </tbody>\r\n  </table>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default Settings;","import Tone from 'tone';\r\n                // 0    1       2     3     4     5     6       7     8     9     10      11  \r\nconst note_arr = ['C4', 'C#4', 'D4', 'Eb4', 'E4', 'F4', 'F#4', 'G4', 'Ab4', 'A4', 'Bb4', 'B4',\r\n                // 12   13      14    15    16    17    18     19    20     21    22      23\r\n                  'C5', 'C#5', 'D5', 'Eb5', 'E5', 'F5', 'F#5', 'G5', 'Ab5', 'A5', 'Bb5', 'B5',\r\n                // 24\r\n                  'C6'];\r\n\r\nfunction rand(num) {\r\n  return Math.floor(Math.random() * num);\r\n}\r\n// scan through the array the get the notes that are allowed (in the interval)\r\nfunction allowed_notes(array, prev_val, max_leap, log=false) {\r\n  var i = 0;\r\n  var x1;\r\n  var x2;\r\n  // this is guaranteed to not go off the end of the array\r\n  while (array[i] < (prev_val - max_leap)) {\r\n    i += 1;\r\n  }\r\n  x1 = i;\r\n  while ((i < array.length) && (array[i] < (prev_val + max_leap))) {\r\n    if (log) console.log(i, array[i] < (prev_val + max_leap), array[i], \" < \", prev_val + max_leap);\r\n    i += 1;\r\n  }\r\n  x2 = i;\r\n  if (log) {\r\n    console.log(array);\r\n    console.log(\"prev_val was \" + prev_val + \" and max_leap is \" + max_leap);\r\n    console.log(\"x1: \" + x1 + \", x2: \" + x2);\r\n    console.log(\"Allowable values: \" + array.slice(x1,x2));\r\n  }\r\n  return array.slice(x1,x2);\r\n}\r\nfunction rand_array(array) {\r\n  var i = rand(array.length)\r\n  return array[i]\r\n}\r\n/*\r\nThis is a stateful, non-rendering tone generate. It does one thing: plays notes\r\nIt's stateful because it keeps track of the previous note played and the settings\r\n(locked at the time of construction)\r\n\r\nThis is currently NOT a React component. It probably should be? \r\n  (so that react will auto-rebuild when props changes)\r\n*/\r\nclass ToneGen {\r\n  \r\n  scale = []; // built from mode and range\r\n  tonic_triad = [];\r\n  tonic_end = [0,7,12,19,24];\r\n  max_leap;\r\n  num_notes;\r\n  duration;\r\n  gap;\r\n  prev_note = -1;\r\n  \r\n\r\n  constructor (props = \r\n    {\r\n      duration : '4n',\r\n      max_leap : 4, \r\n      mode : \"major\", \r\n      num_notes : 3, \r\n      range : 2,\r\n      gap : 1,\r\n      synth : {\r\n          \"oscillator\" : {\r\n            \"type\" : \"triangle\"\r\n          },\r\n          \"envelope\" : {\r\n            \"attackCurve\" : \"exponential\",\r\n            \"attack\" : 0.01,\r\n            \"decayCurve\" : \"exponential\",\r\n            \"decay\" : 0.01,\r\n            \"sustain\" : 0.1,\r\n            \"releaseCurve\" : \"exponential\",\r\n            \"release\" : 0.3,\r\n          },\r\n          \"portamento\" : 0.0,\r\n          \"volume\" : -12\r\n        }\r\n    }\r\n  )\r\n  {\r\n    // console.log(\"building toneGen with props\", props);\r\n\r\n    // store params\r\n    this.duration = props.duration;\r\n    this.max_leap = Number(props.max_leap);\r\n    this.num_notes = Number(props.num_notes);\r\n    this.gap = props.gap;\r\n\r\n    // build scale from props.mode and props.range\r\n    switch (props.mode) {\r\n      case (\"major\"):\r\n        this.scale = [0,2,4,5,7,9,11,12,14,16,17,19,21,23,24];\r\n        this.tonic_triad = [0,4,7,12,16,19,24];\r\n        break;\r\n      case (\"minor\"):\r\n        this.scale = [0,2,3,5,7,8,10,11,12,14,15,17,19,20,22,23,24];\r\n        this.tonic_triad = [0,3,7,12,15,19,24];\r\n        break;\r\n      case(\"blues\"):\r\n        this.scale = [0,3,5,6,7,10,12,15,17,18,19,22,24];\r\n        this.tonic_triad = [0,3,7,12,15,19,24];\r\n        break;\r\n      case(\"pentatonic\"):\r\n        this.scale = [0,2,4,7,9,12,14,16,19,21,24];\r\n        this.tonic_triad = [0,4,7,12,16,19,24];\r\n        break;\r\n      case(\"chromatic\"):\r\n      default:\r\n        this.scale = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24];\r\n        this.tonic_triad = [0,4,7,12,16,19,24]; // no tonic in chromatic, we'll use major\r\n    }\r\n    // range check\r\n    if (props.range === 1) {\r\n      // find first element off the end (= C5 = 12)\r\n      var last = this.scale.findIndex(e => e > 12); // find first element > 12\r\n      this.scale = this.scale.slice(0, last);\r\n      // do the same for tonic triad\r\n      last = this.tonic_triad.findIndex(e => e > 12);\r\n      this.tonic_triad = this.tonic_triad.slice(0, last);\r\n      this.tonic_end = this.tonic_end.slice(0,3);\r\n    }\r\n\r\n    // build synth from props.synth\r\n    this.synth = new Tone.Synth(props.synth).toMaster();\r\n\r\n    // js is weird, need to do this for every function that uses `this`\r\n    this.random_note = this.random_note.bind(this);\r\n    this.play_note = this.play_note.bind(this);\r\n    this.play_rand_note = this.play_rand_note.bind(this);\r\n  }\r\n\r\n  random_note() {\r\n    // sentinel: no previous note exists\r\n    if (this.prev_note === -1) {\r\n      this.prev_note = this.scale[rand(this.scale.length)];\r\n      return note_arr[this.prev_note];\r\n    } else {\r\n      this.prev_note = rand_array(allowed_notes(this.scale, this.prev_note, this.max_leap));\r\n      return note_arr[this.prev_note];\r\n    }\r\n  }\r\n\r\n  random_note_tonic() {\r\n    // case one: starting pitch\r\n    if (this.prev_note === -1) {\r\n      this.prev_note = this.tonic_triad[rand(this.tonic_triad.length)];\r\n      return note_arr[this.prev_note];\r\n    } else { // case two: end on 1 or 5\r\n      this.prev_note = rand_array(allowed_notes(this.tonic_end, this.prev_note, this.max_leap));\r\n      return note_arr[this.prev_note];\r\n    }\r\n  }\r\n\r\n  play_note(note) {\r\n    //play the note for the duration of an quarter note\r\n    this.synth.triggerAttackRelease(note, this.duration);\r\n  }\r\n  \r\n  play_notes(note_arr) {\r\n    var time = 0.25\r\n    for (let i = 0; i < note_arr.length; ++i) {\r\n      this.synth.triggerAttackRelease(note_arr[i], this.duration, \"+\"+time);\r\n      time += this.gap;\r\n    }\r\n  }\r\n\r\n  play_rand_note() {\r\n    var note = this.random_note(this.duration);\r\n    this.play_note(note);\r\n    return note;\r\n  }\r\n\r\n  play_rand_seq() {\r\n    var local_note_arr = []\r\n    var time = 0.25\r\n    // generate first note\r\n    // console.log(\"Generating first note\");\r\n    if (this.num_notes < 3) {\r\n      for (let i = 0; i < this.num_notes; ++i) {\r\n        // console.log(\"Generating note \" + (i+1));\r\n        local_note_arr[i] = this.random_note();\r\n        this.synth.triggerAttackRelease(local_note_arr[i], this.duration, \"+\"+time);\r\n        time += this.gap;\r\n      }\r\n      this.prev_note = -1; // reset previous note; the next melody can start somewhere new\r\n      return local_note_arr;\r\n    }\r\n    else if (this.num_notes === 3) {\r\n      local_note_arr[0] = this.random_note_tonic();\r\n      this.synth.triggerAttackRelease(local_note_arr[0], this.duration, \"+\"+time);\r\n      time += this.gap;\r\n\r\n      for (let i = 1; i < this.num_notes; ++i) {\r\n        // console.log(\"Generating note \" + (i+1));\r\n        local_note_arr[i] = this.random_note();\r\n        this.synth.triggerAttackRelease(local_note_arr[i], this.duration, \"+\"+time);\r\n        time += this.gap;\r\n      }\r\n      this.prev_note = -1; // reset previous note; the next melody can start somewhere new\r\n      return local_note_arr;\r\n    }\r\n    else {\r\n      local_note_arr[0] = this.random_note_tonic();\r\n      this.synth.triggerAttackRelease(local_note_arr[0], this.duration, \"+\"+time);\r\n      time += this.gap;\r\n\r\n      // generate intermediate notes\r\n      for (let i = 1; i < this.num_notes - 1; ++i) {\r\n        // console.log(\"Generating note \" + (i+1));\r\n        local_note_arr[i] = this.random_note();\r\n        this.synth.triggerAttackRelease(local_note_arr[i], this.duration, \"+\"+time);\r\n        time += this.gap;\r\n      }\r\n      // console.log(\"Generating last note\");\r\n      // generate last note\r\n      local_note_arr[this.num_notes - 1] = this.random_note_tonic();\r\n      this.synth.triggerAttackRelease(local_note_arr[this.num_notes - 1], this.duration, \"+\"+time);\r\n      time += this.gap;\r\n\r\n      this.prev_note = -1; // reset previous note; the next melody can start somewhere new\r\n      return local_note_arr;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ToneGen;","import React from 'react';\r\nimport './App.css';\r\n\r\nfunction WhiteNote(props) {\r\n  return (\r\n    <div \r\n      className=\"key\" \r\n      onClick={(e) => props.onNoteClick(props.name)}\r\n    >\r\n      {/* {props.name} */}\r\n    </div>\r\n  );\r\n}\r\nfunction BlackNote(props) {\r\n  return (\r\n    <div \r\n        className=\"key black\" \r\n        onClick={(e) => props.onNoteClick(props.name)}>\r\n      {/* {props.name} */}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Piano(props) {\r\n  if (props.range === 1) {\r\n    return (<PianoPhone onNoteClick={props.onNoteClick}/>);\r\n  }\r\n  return (\r\n  <div className=\"piano\">\r\n    <WhiteNote name={'C4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'C#4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'D4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Eb4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'E4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'F4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'F#4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'G4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Ab4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'A4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Bb4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'B4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'C5'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'C#5'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'D5'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Eb5'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'E5'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'F5'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'F#5'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'G5'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Ab5'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'A5'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Bb5'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'B5'} onNoteClick={props.onNoteClick} />\r\n      <WhiteNote name={'C6'} onNoteClick={props.onNoteClick} />\r\n  </div>\r\n  );\r\n}\r\n\r\nfunction PianoPhone(props) {\r\n  return (\r\n  <div className=\"piano phone\">\r\n    <WhiteNote name={'C4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'C#4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'D4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Eb4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'E4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'F4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'F#4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'G4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Ab4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'A4'} onNoteClick={props.onNoteClick} />\r\n      <BlackNote name={'Bb4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'B4'} onNoteClick={props.onNoteClick} />\r\n    <WhiteNote name={'C5'} onNoteClick={props.onNoteClick} />\r\n  </div>\r\n  );\r\n}\r\n\r\n\r\nexport {Piano, PianoPhone};\r\nexport default Piano;","import React, { useState, useEffect, useRef } from 'react';\r\nimport './App.css';\r\nimport treble from './treble.png';\r\n\r\nconst note_map = {\r\n    'C4':0,'C#4':0,'D4':1,'Eb4':2,'E4':2,'F4':3, 'F#4':3, 'G4':4, 'Ab4':5, 'A4':5, 'Bb4':6, 'B4':6,\r\n    'C5':7,'C#5':7,'D5':8,'Eb5':9,'E5':9,'F5':10,'F#5':10,'G5':11,'Ab5':12,'A5':12,'Bb5':13,'B5':13,\r\n    'C6':14\r\n};\r\n\r\nclass note {\r\n    name;  // note name\r\n    index; // computed\r\n    sfn;   // #, b, n, 0\r\n    staff; // #, b, 0\r\n    align; // positive or negative number\r\n\r\n    // defaults, just do note('C4',0,'#',0) to overwrite\r\n    constructor(name, sfn=0, staff=0, align=0, index=0) {\r\n        this.name = name;\r\n        this.index = (index === 0) ? note_map[name] : index;\r\n        this.sfn = sfn;\r\n        this.staff = staff;\r\n        this.align = align;\r\n    }\r\n}\r\n\r\nconst major = [\r\n    new note('C4'),\r\n    new note('D4'),\r\n    new note('E4'),\r\n    new note('F4'),\r\n    new note('G4'),\r\n    new note('A4'),\r\n    new note('B4'),\r\n    new note('C5'),\r\n    new note('D5'),\r\n    new note('E5'),\r\n    new note('F5'),\r\n    new note('G5'),\r\n    new note('A5'),\r\n    new note('B5'),\r\n    new note('C6')\r\n];\r\nconst minor = [\r\n    new note('C4'),\r\n    new note('D4'),\r\n    new note('Eb4'),\r\n    new note('F4'),\r\n    new note('G4'),\r\n    new note('Ab4', 0, 'b', 2),\r\n    new note('Bb4', 0, 'b', 0),\r\n    new note('B4', 'n'),\r\n    new note('C5'),\r\n    new note('D5'),\r\n    new note('Eb5', 0, 'b', 1),\r\n    new note('F5'),\r\n    new note('G5'),\r\n    new note('Ab5'),\r\n    new note('Bb5'),\r\n    new note('B5', 'n'),\r\n    new note('C6')\r\n];\r\nconst blues = [\r\n    new note('C4'),\r\n    new note('Eb4'),// 0, 'b'),\r\n    new note('F4', 'n'),\r\n    new note('F#4', '#'),\r\n    new note('G4'),\r\n    new note('Bb4', 0, 'b', 0),\r\n    // new note('B4', 'n'),\r\n    new note('C5'),\r\n    new note('Eb5', 0, 'b', 1),\r\n    new note('F5', 'n'),\r\n    new note('F#5', '#'),\r\n    new note('G5'),\r\n    new note('Bb5'),\r\n    // new note('B5', 'n'),\r\n    new note('C6'),\r\n    // extra at the end\r\n    new note(0, 0, 'b', 2, 5),\r\n];\r\nconst pentatonic = [\r\n    new note('C4'),\r\n    new note('D4'),\r\n    new note('E4'),\r\n    new note('G4'),\r\n    new note('A4'),\r\n    new note('C5'),\r\n    new note('D5'),\r\n    new note('E5'),\r\n    new note('G5'),\r\n    new note('A5'),\r\n    new note('C6')\r\n];\r\nconst chromatic = [\r\n    new note('C4', 'n'),\r\n    new note('C#4', '#'),\r\n    new note('D4'),\r\n    new note('Eb4', 'b'),\r\n    new note('E4', 'n'),\r\n    new note('F4', 'n'),\r\n    new note('F#4', '#'),\r\n    new note('G4'),\r\n    new note('Ab4', 'b'),\r\n    new note('A4', 'n'),\r\n    new note('Bb4', 'b'),\r\n    new note('B4', 'n'),\r\n    new note('C5', 'n'),\r\n    new note('C#5', '#'),\r\n    new note('D5'),\r\n    new note('E5', 'n'),\r\n    new note('Eb5', 'b'),\r\n    new note('F5', 'n'),\r\n    new note('F#5', '#'),\r\n    new note('G5'),\r\n    new note('Ab5', 'b'),\r\n    new note('A5', 'n'),\r\n    new note('Bb5', 'b'),\r\n    new note('B5', 'n'),\r\n    new note('C6', 'n')\r\n    // new note('C#6', '#'),\r\n];\r\n\r\nfunction Note(props) {\r\n    return (\r\n        <div\r\n            className=\"note\"\r\n            content={props.name}\r\n            style={{top:props.top, bottom:props.bottom, left:props.left}}\r\n            onClick={(e) => props.onNoteClick(props.name)}\r\n            onMouseOver={(e) => {\r\n                props.onHover(props.name)}\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nfunction Notes(props) {\r\n    // this is purely to get the clickable bits - the coloring will be done\r\n    // by the canvas\r\n    var i = 0;\r\n    // to get the indexing right, we're actually going to use the note map\r\n    // console.log(props.notes);\r\n    return (\r\n    <div>\r\n        {props.notes.map((value, index) => {\r\n            i = value.index;\r\n            return (\r\n            <Note \r\n                key={value.name} \r\n                name={value.name} \r\n                bottom={32 + 15*i}\r\n                left={145 + 35*index}\r\n                onNoteClick={props.onNoteClick}\r\n                onHover={props.setNote}\r\n            />\r\n            )\r\n        })}\r\n    </div>\r\n    );\r\n}\r\n\r\nfunction Lines(props) {\r\n    const canvas = useRef(null);\r\n    \r\n    // this hook creates a warning about missing dependencies \r\n    // I'm intentionally not including them, so this warning is wrong\r\n    useEffect(() => {\r\n        var ctx = canvas.current.getContext('2d');\r\n        ctx.fillStyle = \"#FFF\";\r\n        ctx.font = \"20px Georgia\";\r\n        // go from the bottom up\r\n        // (makes it easier to align the C D E)\r\n        // leave space at the bottom\r\n        var start = props.height - props.gap - props.gap/2;\r\n        for (var i = 0; i < 5; ++i) {\r\n            // draw the lines\r\n            ctx.fillRect(\r\n                0, \r\n                start - i*props.gap, // bottom up\r\n                props.width, \r\n                props.fill);\r\n        }\r\n\r\n        // draw the notes, labels, and ledger bars\r\n        // bottom marker\r\n        ctx.fillRect(115, props.height - props.gap/2, 50, props.fill);\r\n\r\n        var x, y, nx = 15, ny=10, j, index = 0;\r\n        start = props.height - props.gap/2\r\n        // draw the notes\r\n        var length = (props.range === 2) ? props.notes.length : props.notes.length / 2;\r\n        for (i = 0; i < length; ++i) {\r\n            j = props.notes[i].index;\r\n            if (props.notes[i].name !== 0) {\r\n                // note location\r\n                x = 140 + (2*nx+5)*index;\r\n                y = props.height - (props.gap/2)*(j+1)\r\n\r\n                // draw the note\r\n                ctx.beginPath();\r\n                ctx.ellipse(x, y, nx, ny, 0, 0, Math.PI*2);\r\n                ctx.fill();\r\n\r\n\r\n                // top ledger bars (optional)\r\n                if (j >= 12) { // draw a ledger bar at 12, 13 (actually at 12), and 14\r\n                    var j_adj = (j === 13) ? 12 : j;\r\n                    // var adjusted_index = (j === 13) ? index-1 : index;\r\n                    // need to recompute in case j changed\r\n                    x = 140 + (2*nx+5)*index - 2*nx + 6; \r\n                    y = props.height - (props.gap/2)*(j_adj+1)\r\n                    // draw the bar\r\n                    ctx.fillRect(x, y, 50, props.fill);\r\n\r\n                    // reset x, y\r\n                    x = 140 + (2*nx+5)*index;\r\n                    y = props.height - (props.gap/2)*(j+1)\r\n                }\r\n\r\n                // add the label (if needed)\r\n                if (props.notes[i].sfn) {\r\n                    ctx.font = \"20px Georgia\";\r\n                    ctx.fillStyle = '#000';\r\n                    if (props.notes[i].sfn === \"#\")\r\n                        ctx.fillText('\\u266F', x-5, y+6);\r\n                    else if (props.notes[i].sfn === \"b\") \r\n                        ctx.fillText('\\u266D', x-5, y+6);\r\n                    else \r\n                        ctx.fillText('\\u266E', x-5, y+6);\r\n                    ctx.fillStyle = '#FFF';\r\n                }\r\n\r\n                ++index;\r\n            }\r\n        }\r\n        // time to loop through the scale and find sharps and flats\r\n        for (i in props.notes) {\r\n            if (props.notes[i].staff) {\r\n                j = props.notes[i].index;\r\n                ctx.font = \"35px Georgia\";\r\n                y = false;\r\n                y = (j % 2 === 1);\r\n                x = props.notes[i].align*15;\r\n                if (props.notes[i].staff === '#') {\r\n                    // draw a #\r\n                    y = (y) ? 10 : 9\r\n                    ctx.fillText('\\u266F', 80 + x, start + y - j*(props.gap/2));\r\n                    continue;\r\n                } else {\r\n                    // draw a b\r\n                    y = (y) ? 10 : 7\r\n                    ctx.fillText('\\u266D', 80 + x, start + y - j*(props.gap/2));\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }, [props.fill, props.gap, props.width, props.height, props.notes, props.range]); // only do this once\r\n\r\n    return (\r\n    <div>\r\n        <canvas className=\"lines\" ref={canvas} width={props.width} height={props.height} />\r\n        <img src={treble} alt={\"A treble clef\"} style={{position:'absolute',top:50,left:20,width:70,height:210,z_index:4}}/>\r\n    </div>\r\n    )\r\n}\r\n\r\nfunction Staff(props) {\r\n    // immutable\r\n    const [notes] = useState(() => {\r\n        switch(props.mode) {\r\n            default :\r\n            case \"major\" :\r\n                return major;\r\n            case \"minor\" : \r\n                return minor;\r\n            case \"blues\" : \r\n                return blues;\r\n            case \"pentatonic\" : \r\n                return pentatonic;\r\n            case \"chromatic\" :\r\n                return chromatic;\r\n        }\r\n    });\r\n    const [note, setNote] = useState('.');\r\n\r\n    return (\r\n    <div>\r\n        <div className=\"staff\" height={200}>\r\n            <Lines height={235} gap={30} fill={1} range={props.range} notes={notes}\r\n                width={\r\n                (props.range === 2) \r\n                    ? ((props.mode === \"chromatic\") ? 1100\r\n                        : (props.mode === \"minor\") ? 730 \r\n                        : (props.mode === \"major\" || props.mode === \"blues\") ? 700 \r\n                        : 550)\r\n                    : ((props.mode === \"chromatic\") ? 650\r\n                        : (props.mode === \"minor\") ? 500 \r\n                        : (props.mode === \"major\" || props.mode === \"blues\") ? 450 \r\n                        : 350)\r\n                }\r\n            />\r\n            <Notes onNoteClick={props.onNoteClick} setNote={setNote}\r\n                notes={(props.range === 1) \r\n                    ? notes.slice(0, Math.ceil(notes.length / 2))\r\n                    : notes\r\n                } \r\n            />\r\n            {/* canvas == lines */}\r\n        </div>\r\n        {note}\r\n        </div>\r\n    );\r\n}\r\nexport default Staff;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Link, Switch, Route } from 'react-router-dom';\n\nimport './App.css';\nimport TrainData from './train.js';\nimport Results from './results.js';\nimport Settings from './settings.js';\n\nimport ToneGen from './ToneGenerator';\n\nimport Piano from './piano.js';\nimport Staff from './staff.js';\n\nvar trainData = new TrainData();\nvar toneGen = null;\n\nclass App extends React.Component {\n  \n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // all settings for the app are stored here\n      ui : \"piano\",   // ui to use\n      \n      replay : true,  // allow the user to replay notes\n      \n      max_leap : 5,   // maximum interval of toneGen\n      mode : \"major\", // mode of toneGen\n      num_notes: 4,   // number of notes to play at a time\n      range: 1,       // range of toneGen\n      gap : 1,        // seconds gap between notest\n      duration: '4n', // note duration\n      // synth to use\n      // this is a nested object. That's usually bad\n      // this means it will be hard to update \n      // (eg setState({synth : synth_obj}) will set this object,\n      // NOT merge with it\n      synth : {\n        \"oscillator\" : {\n          \"type\" : \"triangle\"\n        },\n        \"envelope\" : {\n          \"attackCurve\" : \"exponential\",\n          \"attack\" : 0.02,\n          \"decayCurve\" : \"exponential\",\n          \"decay\" : 0.03,\n          \"sustain\" : 0.4,\n          \"releaseCurve\" : \"exponential\",\n          \"release\" : 0.5,\n        },\n        \"portamento\" : 0.0,\n        \"volume\" : -15\n      }\n    }\n\n    this.onStart = this.onStart.bind(this);\n    this.swapRange = this.swapRange.bind(this);\n    this.setSettings = this.setSettings.bind(this);\n  }\n\n  onStart() {\n    console.log(\"resetting train data\");\n    trainData = new TrainData();\n    toneGen = new ToneGen(this.state);\n  }\n\n  swapRange() {\n    if (this.state.range === 1) {\n      this.setState({range : 2});\n    }\n    else if (this.state.range === 2) {\n      this.setState({range : 1});\n    }\n    // console.log(\"range\", this.setState.range);\n    toneGen = new ToneGen(this.state)\n  }\n\n  setSettings(setting, value) {\n    if (setting === \"num_notes\") {\n      this.setState({num_notes : value});\n    } else if (setting === \"max_leap\") {\n      this.setState({max_leap : value});\n    } else if (setting === \"mode\") {\n      this.setState({mode : value});\n    } else if (setting === \"range\") {\n      this.setState({range : value});\n    } else if (setting === \"ui\") {\n      this.setState({ui : value});\n    }\n  }\n\n  render() {\n    var ui;\n    if (this.state.ui === \"piano\") {\n      ui = Piano;\n    }\n    else if (this.state.ui === \"staff\") {\n      ui = Staff;\n    }\n    return(\n    <header className=\"App App-header\">\n      <h1>Aural Training</h1> \n      <BrowserRouter>\n        <Switch>\n          <Route path='/aural-skills/about'>\n            <AboutView/>\n          </Route>\n          <Route path='/aural-skills/settings'>\n            <Settings \n              setSettings={this.setSettings}\n              numNotes={this.state.num_notes}\n              maxLeap={this.state.max_leap}\n              mode={this.state.mode}\n              range={this.state.range}\n              ui={this.state.ui}\n            />\n          </Route>\n          <Route path='/aural-skills/results'>\n            <ResultsView \n              trainData={trainData}\n            />\n          </Route>\n          <Route path='/aural-skills/train'> \n            <TrainView \n              trainData = {trainData} \n              replay = {this.state.replay} \n              ui = {ui}\n              duration = {this.state.duration}\n              max_leap = {this.state.max_leap}\n              mode = {this.state.mode}\n              num_notes = {this.state.num_notes}\n              range = {this.state.range}\n              gap = {this.state.gap}\n              synth = {this.state.synth}\n            /> \n          </Route>\n          <Route path='/aural-skills/'> \n            <PlayView \n              swapUI={this.swapUI}\n              swapRange={this.swapRange}\n              onStart={this.onStart} \n              ui={ui}\n              duration = {this.state.duration}\n              max_leap = {this.state.max_leap}\n              mode = {this.state.mode}\n              num_notes = {this.state.num_notes}\n              range = {this.state.range}\n              gap = {this.state.gap}\n              synth = {this.state.synth}\n            />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </header>\n  );}\n}\n\nfunction PlayView (props) {\n  // react hooks!\n  const [note, setNote] = useState('');\n  \n  return (\n  <div>\n    <p>\n      <Link to='/aural-skills/train'>\n        <button className=\"App-button colorGreen\" onClick={props.onStart}>Start</button>\n      </Link>\n      <Link to='/aural-skills/settings'>\n        <button className=\"App-button colorCoral\">Settings</button>\n      </Link>\n      <Link to='/aural-skills/about'>\n        <button className=\"App-button colorYellow\">About</button>\n      </Link>\n    </p>\n    <div>\n      <p>Play a Note:</p>\n      <props.ui \n        mode = {props.mode}\n        range = {props.range}\n        onNoteClick = {(note) => {\n          console.log(note);\n          // need to do it this way so that the AudioContext is created by the user\n          // for Chrome\n          if (toneGen === null) {\n            toneGen = new ToneGen(props)\n          }\n          toneGen.play_note(note); \n          setNote(note)}\n        }\n      />\n      <p>Note Played:</p>\n      <p>{note}</p>\n    </div>\n  </div>\n  );\n}\n\nfunction TrainView (props) {\n  const [notes, setNotes] = useState('');\n  const [guess, setGuess] = useState('');\n  const [result, setResult] = useState(null);\n  \n  useEffect(() => {\n    toneGen = new ToneGen(props);\n    var note_arr = toneGen.play_rand_seq()\n    setNotes(note_arr);\n    // console.log(note_arr);\n    trainData.addNoteArr(note_arr);\n  }, []);\n\n  return (\n    <div>\n      <p>\n        <Link to='/aural-skills'>\n          <button className=\"App-button colorGreen\">Start Over</button>\n        </Link>\n        <Link to='/aural-skills/settings'>\n          <button className=\"App-button colorCoral\">Settings</button>\n        </Link>\n        <Link to='/aural-skills/results'>\n          <button className=\"App-button colorYellow\">Results</button>\n        </Link>\n      </p>\n      <props.ui\n            mode = {props.mode}\n            range = {props.range}\n            onNoteClick = {(note) => {\n              var res = trainData.addGuess(note)\n              if (res !== -1) {\n                setGuess(note)\n                setResult(res)\n                toneGen.play_note(note);\n              }\n            }}\n          />\n        <p>You Guessed:</p>\n        <p>{guess}{result === null ? '.' : (result ? ' : Correct' : ' : Incorrect')}</p>\n      <div className=\"App\">\n        <div>\n          {props.replay && \n              <button className=\"App-button colorYellow\"\n                  onClick={(e) => {\n                    if (toneGen !== null) {\n                      console.log(\"replay:\", notes);\n                      toneGen.play_notes(notes)\n                    }\n                  }}>\n                Replay\n              </button>\n            }\n            <button className=\"App-button colorPurple\"\n               onClick={(e) => {\n                if (toneGen === null) {\n                  toneGen = new ToneGen(props)\n                }\n                toneGen.play_notes(['C4','C5'])\n              }}\n            >\n              Play C\n            </button>\n            <button className=\"App-button colorGreen\"\n                onClick={(e) => {\n                  // need to do it this way so that the AudioContext is created by the user\n                  // for Chrome\n                  if (toneGen === null) {\n                    toneGen = new ToneGen(props)\n                  }\n                  var note_arr = toneGen.play_rand_seq()\n                  setNotes(note_arr);\n                  console.log(note_arr);\n                  trainData.addNoteArr(note_arr);\n                }}>\n              Next Melody\n            </button>\n          </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ResultsView (props) {\n  return (\n    <div> \n    <p>\n      <Link to='/aural-skills'>\n        <button className=\"App-button colorGreen\">Start Over</button>\n      </Link>\n      <Link to='/aural-skills/settings'> \n        <button className=\"App-button colorCoral\">Settings</button>\n      </Link>\n      <Link to='/aural-skills/train'>\n        <button className=\"App-button colorYellow\">\n          Continue\n        </button>\n      </Link>\n    </p>\n    <Results\n        guesses = {trainData.guess_stack}\n        notes   = {trainData.note_stack}\n        results = {trainData.result_stack}\n        score   = {trainData.calcScore()}\n    />\n  </div>\n  );\n}\n\nfunction AboutView (props) {\n  return(\n  <div>\n  <p>\n    <Link to='/aural-skills'>\n      <button className=\"App-button colorGreen\">Home</button>\n    </Link>\n    <Link to='/aural-skills/settings'> \n      <button className=\"App-button colorCoral\">Settings</button>\n    </Link>\n    <Link to='/aural-skills/train'>\n      <button className=\"App-button colorYellow\">Start</button>\n    </Link>\n  </p>\n  <div id=\"about\">\n    <p>This website is a group project for CS 4063, Human Computer Interaction</p>\n    <p>This application is designed to help musicians of all skill levels and \n    experiences refine their aural skills. Customize the exercises to fit your \n    needs in the settings tab and check your progress in the results tab. Have fun!</p>\n    <p/>\n    <p>Note that this page works best on a desktop - mobile use is experimental.</p>\n  </div>\n  </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render((\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  ), document.getElementById('root')\n);\n\n//ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}