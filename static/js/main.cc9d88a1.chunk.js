(this.webpackJsonpeartrain=this.webpackJsonpeartrain||[]).push([[0],{14:function(e,t,a){},25:function(e,t,a){e.exports=a(36)},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(21),o=a.n(l),c=(a(30),a(6)),r=a(7),i=a(10),u=a(9),h=a(3),d=a(11),m=a(2),p=a(12);a(14);function b(e){return s.a.createElement("tr",null,s.a.createElement("th",{className:"Results-table-cell"},e.index,"."),s.a.createElement("th",{className:"Results-table-cell"},e.guess),s.a.createElement("th",{className:"Results-table-cell"},e.note),s.a.createElement("th",{className:"Results-table-cell"},e.result?"\u2713":"X"))}var E=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("h2",null,"Score: ",this.props.score[1],"% (",this.props.score[0]," / ",this.props.notes.length,")"),s.a.createElement("table",{className:"Results-table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"Results-table-cell"}),s.a.createElement("th",{className:"Results-table-cell"},"Guess"),s.a.createElement("th",{className:"Results-table-cell"},"Note"),s.a.createElement("th",{className:"Results-table-cell"},"Result"))),s.a.createElement("tbody",null,this.props.guesses.map((function(t,a){return[t,e.props.notes[a],e.props.results[a]]})).map((function(t,a){return s.a.createElement(b,{key:a,index:e.props.guesses.length-a,guess:t[0],note:t[1],result:t[2]})})))))}}]),t}(s.a.Component),k=function(){function e(){Object(c.a)(this,e),this.note_stack=[],this.guess_stack=[],this.result_stack=[],this.guessed=!1,this.start=!1,this.isCorrect=this.isCorrect.bind(this),this.addResult=this.addResult.bind(this),this.addGuess=this.addGuess.bind(this),this.addNote=this.addNote.bind(this),this.calcScore=this.calcScore.bind(this)}return Object(r.a)(e,[{key:"isCorrect",value:function(){return!this.guessed&&(this.guessed=!0,this.note_stack[0]===this.guess_stack[0])}},{key:"addResult",value:function(){this.result_stack.unshift(this.isCorrect())}},{key:"addGuess",value:function(e){this.guessed?this.guess_stack[0]=e:this.guess_stack.unshift(e),this.addResult()}},{key:"addNote",value:function(e){!this.guessed&&this.start&&(this.guess_stack.unshift("-"),this.result_stack.unshift(!1)),this.start=!0,this.guessed=!1,this.note_stack.unshift(e)}},{key:"calcScore",value:function(){for(var e=0,t=0;t<this.note_stack.length;++t)t<this.guess_stack.length&&this.note_stack[t]===this.guess_stack[t]&&++e;return 0===e?[0,0]:[e,Math.round(e/this.note_stack.length*100)]}}]),e}(),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).note_stack=[],a.guess_stack=[],a.result_stack=[],a.guessed=!1,a.start=!1,a.state={note:"",guess:"",result:""},a.train_data=new k,null!=e.train_data&&(a.train_data=e.train_data),a.onNoteChange=a.onNoteChange.bind(Object(h.a)(a)),a.onGuessChange=a.onGuessChange.bind(Object(h.a)(a)),a.onPlay=a.onPlay.bind(Object(h.a)(a)),a.onStart=a.onStart.bind(Object(h.a)(a)),a.onContinue=a.onContinue.bind(Object(h.a)(a)),a.onResults=a.onResults.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"onNoteChange",value:function(e){this.train_data.addNote(e),this.setState({note:e})}},{key:"onGuessChange",value:function(e){if(!this.train_data.guessed&&(this.train_data.addGuess(e),this.setState({guess:e}),"guess"===this.props.mode)){var t=this.train_data.result_stack[0]?" : Correct":" : Incorrect";this.setState({result:t})}}},{key:"onPlay",value:function(){this.train_data=new k,this.setState({note:"",guess:"",result:""}),this.props.setMode("play")}},{key:"onStart",value:function(){this.train_data=new k,this.setState({note:"",guess:"",result:""}),this.props.setMode("guess")}},{key:"onContinue",value:function(){this.props.setMode("guess")}},{key:"onResults",value:function(){this.props.setMode("results")}},{key:"render",value:function(){return"play"===this.props.mode||"guess"===this.props.mode?s.a.createElement(this.props.ui,{onResults:this.onResults,onNoteChange:this.onNoteChange,onGuessChange:this.onGuessChange,note:this.state.note,guess:this.state.guess,result:this.state.result,mode:this.props.mode}):s.a.createElement("p",null,"Error displaying user interface!")}}]),t}(s.a.Component),f=(new(a(22).Synth)).toMaster(),C=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],y=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,[{key:"random_note",value:function(){return C[Math.floor(Math.random()*C.length)]+"4"}},{key:"play_note",value:function(e){console.log(e),f.triggerAttackRelease(e,"4n")}},{key:"play_note_button",value:function(e){this.play_note(e+"4")}},{key:"play_rand_note",value:function(){var e=this.random_note();return this.play_note(e),e}}]),e}();function N(e){return"white"===e.color?s.a.createElement("button",{className:"Note-button Note-white",onClick:function(t){return e.handleClick(e.name)}},e.name):"black"===e.color?s.a.createElement("button",{className:"Note-button Note-black",onClick:function(t){return e.handleClick(e.name)}},e.name):s.a.createElement("button",{className:"Note-button Blank-note"})}function v(e){return s.a.createElement("div",{className:"Note-header"},s.a.createElement("div",null,s.a.createElement(N,{color:"black",name:"C#",handleClick:e.handleClick}),s.a.createElement(N,{color:"black",name:"Eb",handleClick:e.handleClick}),s.a.createElement(N,{color:"blank"}),s.a.createElement(N,{color:"black",name:"F#",handleClick:e.handleClick}),s.a.createElement(N,{color:"black",name:"Ab",handleClick:e.handleClick}),s.a.createElement(N,{color:"black",name:"Bb",handleClick:e.handleClick})),s.a.createElement("div",null,s.a.createElement(N,{color:"white",name:"C",handleClick:e.handleClick}),s.a.createElement(N,{color:"white",name:"D",handleClick:e.handleClick}),s.a.createElement(N,{color:"white",name:"E",handleClick:e.handleClick}),s.a.createElement(N,{color:"white",name:"F",handleClick:e.handleClick}),s.a.createElement(N,{color:"white",name:"G",handleClick:e.handleClick}),s.a.createElement(N,{color:"white",name:"A",handleClick:e.handleClick}),s.a.createElement(N,{color:"white",name:"B",handleClick:e.handleClick})))}var _=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={mode:e.mode,note:"",guess:""},a.handleGuess=a.handleGuess.bind(Object(h.a)(a)),a.handlePlay=a.handlePlay.bind(Object(h.a)(a)),a.handleNext=a.handleNext.bind(Object(h.a)(a)),a.handleRnd=a.handleRnd.bind(Object(h.a)(a)),a.toneGen=new y,a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"handleGuess",value:function(e){this.props.onGuessChange(e+"4")}},{key:"handlePlay",value:function(e){this.toneGen.play_note_button(e),this.props.onNoteChange(e+"4")}},{key:"handleNext",value:function(){this.props.onNoteChange(this.toneGen.play_rand_note())}},{key:"handleRnd",value:function(){this.props.onNoteChange(this.toneGen.play_rand_note())}},{key:"render",value:function(){var e,t,a,n,l;return"guess"===this.props.mode?(e=this.handleGuess,t="You Guessed: ",a=this.handleNext,n="Play Next",l=this.props.guess):(e=this.handlePlay,t="Note Played:",a=this.handleRnd,n="Random Note",l=this.props.note),s.a.createElement("div",null,s.a.createElement(v,{handleClick:e}),s.a.createElement("button",{className:"App-button colorYellow",onClick:a},n),s.a.createElement("p",null,t),s.a.createElement("p",null,l,this.props.result))}}]),t}(s.a.Component);var O=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("h1",null,"Settings"),s.a.createElement("p",null,s.a.createElement(m.c,{to:"/"},s.a.createElement("button",{className:"App-button colorGreen"},"Home")),s.a.createElement(m.c,{to:"/train"},s.a.createElement("button",{className:"App-button colorCoral"},"Start Training")))))},j=new k,R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={mode:"play"},j=new k,a.setMode=a.setMode.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"setMode",value:function(e){this.setState({mode:e})}},{key:"onPlay",value:function(){j=new k,this.setMode("play")}},{key:"onStart",value:function(){j=new k,this.setMode("guess")}},{key:"onContinue",value:function(){this.setMode("guess")}},{key:"onResults",value:function(){this.setMode("results")}},{key:"render",value:function(){return"play"===this.state.mode?s.a.createElement(w,{onStart:this.onStart,setMode:this.setMode}):"guess"===this.state.mode?s.a.createElement(A,{onPlay:this.onPlay,onResults:this.onResults,setMode:this.setMode,train_data:this.UNSAFE_componentWillMount.train_data}):"results"===this.state.mode?s.a.createElement(S,{train_data:j}):void 0}}]),t}(s.a.Component);function w(e){return s.a.createElement("header",{className:"App App-header"},s.a.createElement("h1",null,"Aural Training"),s.a.createElement("p",null,s.a.createElement(m.b,{to:"/train"},s.a.createElement("button",{className:"App-button colorGreen"},"Start")),s.a.createElement(m.b,{to:"/settings"},s.a.createElement("button",{className:"App-button colorCoral"},"Settings"))),s.a.createElement("p",null,"Play a note!"),s.a.createElement(g,{mode:"play",ui:_,setMode:e.setMode}))}function A(e){return s.a.createElement("header",{className:"App App-header"},s.a.createElement("h1",null,"Aural Training"),s.a.createElement("p",null,s.a.createElement(m.b,{to:"/"},s.a.createElement("button",{className:"App-button colorGreen"},"Stop")),s.a.createElement(m.b,{to:"/settings"},s.a.createElement("button",{className:"App-button colorCoral"},"Settings")),s.a.createElement(m.b,{to:"/results"},s.a.createElement("button",{className:"App-button colorYellow"},"Results"))),s.a.createElement("p",null,"What Note Just Played?"),s.a.createElement(g,{mode:"guess",ui:_,setMode:e.setMode,train_data:j}))}function S(e){return s.a.createElement("header",{className:"App App-header"},s.a.createElement("h1",null,"Results"),s.a.createElement("p",null,s.a.createElement(m.b,{to:"/"},s.a.createElement("button",{className:"App-button colorGreen"},"Start Over")),s.a.createElement(m.b,{to:"/settings"},s.a.createElement("button",{className:"App-button colorCoral"},"Settings")),s.a.createElement(m.b,{to:"/train"},s.a.createElement("button",{className:"App-button colorYellow"},"Continue"))),s.a.createElement(E,{guesses:j.guess_stack,notes:j.note_stack,results:j.result_stack,score:j.calcScore()}))}var G=function(){return s.a.createElement(p.c,null,s.a.createElement(p.a,{exact:!0,path:"/",component:R}),s.a.createElement(p.a,{exact:!0,path:"/train",component:A}),s.a.createElement(p.a,{exact:!0,path:"/settings",component:O}),s.a.createElement(p.a,{exact:!0,path:"/results",component:S}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(m.a,null,s.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.cc9d88a1.chunk.js.map